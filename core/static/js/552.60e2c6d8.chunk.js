"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[552],{1552:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(2791),s=t(6871),a=t(8683),c=t(7762),u=t(5861),o=t(885),i=t(7757),f=t.n(i),m=t(8660),d=t(2293),l=t(3436),h=t(3374),x=t(2357),Z=function(e){var n=(0,m.C)((function(e){return e.commentsReducer})),t=(0,r.useRef)(),s=(0,m.T)(),i=d.E.actions.addComment,Z=(0,r.useState)(0),v=(0,o.Z)(Z,2),w=v[0],g=v[1],p=(0,r.useState)(!0),N=(0,o.Z)(p,2),j=N[0],b=N[1],k=(0,r.useRef)(),C=(0,h.Z)((0,u.Z)(f().mark((function n(){var t,r,u,o,m,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.li)(Number(e),w);case 2:t=n.sent,r=t.data,u=(0,c.Z)(r.comments);try{for(u.s();!(o=u.n()).done;)m=o.value,d=(0,a.Z)((0,a.Z)({},m),{},{isShowedAnswers:!1}),s(i(d))}catch(f){u.e(f)}finally{u.f()}r.hasNextPage||b(!1);case 7:case"end":return n.stop()}}),n)})))),E=(0,o.Z)(C,3),y=E[0],A=E[1];E[2];return(0,x.Z)(k,A,j,(function(){g((function(e){return e+1}))})),(0,r.useEffect)((function(){y()}),[w]),{comments:n,container:t,hasNextPage:j,lastElement:k}},v={container:"Comments_container__BoKcu"},w=t(6156),g=t(184),p=r.lazy((function(){return t.e(717).then(t.bind(t,1717))})),N=function(e){var n=e.setAnswerTo,t=(0,s.UO)().id,r=Z(Number(t)),a=r.comments,c=r.container,u=r.hasNextPage,o=r.lastElement,i=function(e,t){n({id:e,username:t})};return a.length?(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:v.container,ref:c,children:[a.map((function(e,n){return(0,g.jsx)(p,{comment:e,onAnswer:i},n)})),u&&a.length>0&&(0,g.jsx)("div",{className:v.loader,ref:o,children:(0,g.jsx)(w.c,{})})]})}):(0,g.jsx)(g.Fragment,{})}}}]);
//# sourceMappingURL=552.60e2c6d8.chunk.js.map