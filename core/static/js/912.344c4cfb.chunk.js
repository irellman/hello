"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[912],{1787:function(n,t,e){e.d(t,{LU:function(){return f},P4:function(){return l},Yu:function(){return s},bG:function(){return p},iu:function(){return d}});var r=e(5861),o=e(7757),c=e.n(o),u=e(4569),a=e.n(u),i=e(1932),s=function(n){return function(){var t=(0,r.Z)(c().mark((function t(e){var r,o,u,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.x.actions.addCollection,(o=new FormData).append("collection_name",n),t.next=5,a().post("http://127.0.0.1:8000/api/collection/create",o);case 5:u=t.sent,s=u.data,e(r(s));case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},p=function(){return function(){var n=(0,r.Z)(c().mark((function n(t){var e,r,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.x.actions.setCollections,n.next=3,a().post("http://127.0.0.1:8000/api/collections/get");case 3:r=n.sent,(o=r.data).length&&t(e(o));case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},l=function(n){return function(){var t=(0,r.Z)(c().mark((function t(e){var r,o,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FormData,o=i.x.actions.removeCollection,r.append("collection_id",String(n)),t.next=5,a().post("http://127.0.0.1:8000/api/collection/delete",r);case 5:u=t.sent,"ok"===u.data.status&&e(o(n));case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},f=function(n,t){return function(){var e=(0,r.Z)(c().mark((function e(r){var o,u,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new FormData,u=i.x.actions.renameCollection,o.append("collection_id",String(n)),o.append("collection_name",t),e.next=6,a().post("http://127.0.0.1:8000/api/collection/rename",o);case 6:s=e.sent,"ok"===s.data.status&&r(u({id:Number(n),name:t}));case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},d=function(n,t){return function(){var e=(0,r.Z)(c().mark((function e(r){var o,u,s,p,l,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new FormData,u=i.x.actions,s=u.addPosts,p=u.setHasNextPage,o.append("collection_id",String(n)),o.append("page",String(t)),e.next=6,a().post("http://127.0.0.1:8000/api/collection/get",o);case 6:l=e.sent,f=l.data,r(s({id:Number(n),posts:f.posts})),f.hasNextPage||r(p({id:Number(n),value:f.hasNextPage}));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},8912:function(n,t,e){e.r(t),e.d(t,{default:function(){return h}});var r=e(5861),o=e(885),c=e(7757),u=e.n(c),a=e(8660),i=e(8061),s=e(3571),p=e(6871),l=e(2791),f=e(1787),d=e(184),v=function(){var n=(0,a.C)((function(n){return n.appReducer.width})),t=(0,p.UO)(),e=(0,l.useMemo)((function(){return"all-posts"===t.id?0:Number(t.id)}),[t.id]),c=(0,a.C)((function(n){return n.collectionsReducer})),v=c.find((function(n){return n.id===e})),h=null===v||void 0===v?void 0:v.posts.posts,m=null===v||void 0===v?void 0:v.posts.hasNextPage,x=(0,l.useState)(Math.floor((null===h||void 0===h?void 0:h.length)/12)||0),w=(0,o.Z)(x,2),g=w[0],k=w[1],Z=(0,l.useState)(!1),b=(0,o.Z)(Z,2),C=b[0],N=b[1],y=(0,a.T)();(0,l.useEffect)((function(){return document.addEventListener("scroll",E),0===c.length&&y((0,f.bG)()),h||N(!0),function(){document.removeEventListener("scroll",E)}}),[]);var E=function(){document.documentElement.scrollHeight-(document.documentElement.scrollTop+window.innerHeight)<500&&m&&!C&&N(!0)};(0,l.useEffect)((function(){C&&m&&F()}),[C,m]);var F=function(){var n=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:y((0,f.iu)(v.id,g)),k((function(n){return n+1})),setTimeout((function(){N(!1)}),100);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[n<640&&(0,d.jsx)(i.Z,{children:"\u041f\u043e\u0441\u0442\u044b"}),null!==h&&void 0!==h&&h.length?(0,d.jsx)(s.Z,{posts:h}):(0,d.jsx)(d.Fragment,{})]})},h=v}}]);
//# sourceMappingURL=912.344c4cfb.chunk.js.map