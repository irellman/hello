{"version":3,"file":"static/js/752.70279647.chunk.js","mappings":"oKACA,EAA4B,yBAA5B,EAA6D,qBAA7D,EAAgG,2BAAhG,EAAmI,qBAAnI,EAAsK,2B,SCCtK,ECSc,SAAC,GAAmD,IAAjDA,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,KAC7C,GAA0CC,EAAAA,EAAAA,WAAS,GAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACMC,GAAQC,EAAAA,EAAAA,QAAY,MAmB1B,OAjBAC,EAAAA,EAAAA,YAAU,WACoB,IAAD,EAAxBF,GAASF,IACV,UAAAE,EAAMG,eAAN,SAAeC,QACfJ,EAAMG,QAAQE,aAAa,aAAeL,EAAMG,QAAQG,gBAAgB,eAEzE,CAACR,KAQJI,EAAAA,EAAAA,YAAU,WACRF,EAAMG,QAAQG,gBAAgB,cAC7B,KAGD,iBAAKC,UAAWC,EAAkBC,QAAS,kBAAMV,GAAiB,IAAlE,WACE,gBAAKQ,UAAaf,EAAQgB,EAAqBA,EAA/C,SAA8Dd,KAC9D,kBACEa,UAAaf,EAAQgB,EAAqBA,EAC1Cb,KAAMA,EACNH,MAAOA,EACPI,KAAMA,EACNH,SAAU,SAACiB,GAAD,OAAOjB,EAASiB,EAAEC,OAAOnB,QACnCoB,IAAKZ,EACLa,UAAQ,EACRC,aAAa,MACbC,OAAQ,WArBPvB,GACHO,GAAiB,W,4MC0DvB,EAzEc,WACZ,OAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOmB,EAAP,KAAcC,EAAd,KACA,GAAgCpB,EAAAA,EAAAA,UAAS,IAAzC,eAAOqB,EAAP,KAAiBC,EAAjB,KACA,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eACQC,EAAgBC,EAAAA,EAAAA,QAAAA,YAClBC,GAAWC,EAAAA,EAAAA,KAEXC,GAAwBC,EAAAA,EAAAA,UAAQ,WACpC,QAASX,GAASE,KACjB,CAACF,EAAOE,IATO,wCAWlB,0FACMQ,EADN,kEAKoBE,EAAAA,EAAAA,IAAMZ,EAAOE,GALjC,OAKQW,EALR,QAMQC,EAAOD,EAAIC,MAEPC,UACRP,EAASF,EAAYQ,IACrBE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUL,KAVhD,4CAXkB,8DAqClB,WAAsBM,EAAaC,GAAnC,iFACoBC,IAAAA,KAAA,kDAAsDF,EAAtD,YAA6DC,IADjF,cAGSP,KAAKS,QAHd,4CArCkB,sBA+ClB,OApBArC,EAAAA,EAAAA,YAAU,WACR,IAAMkC,EAAMf,EAAamB,IAAI,OACvBH,EAAQhB,EAAamB,IAAI,SAE5BJ,GAAOC,GA/BM,sCAgCdI,CAAOL,EAAKC,GAEdK,SAASC,MAAQ,oDAChB,KAaD,4BACE,gBAAKpC,UAAWC,EAAAA,EAAAA,MAAhB,uCACA,iBAAKD,UAAWC,EAAAA,EAAAA,MAAhB,WACE,SAACoC,EAAA,EAAD,CACEpD,MAAOwB,EACPvB,SAAUwB,EACVvB,MAAM,mIACNC,KAAK,QACLC,KAAK,WAEP,SAACgD,EAAA,EAAD,CACEpD,MAAO0B,EACPzB,SAAU0B,EACVzB,MAAM,uCACNC,KAAK,WACLC,KAAK,cAEP,gBAAKW,UAAWmB,EAAwBlB,EAAAA,EAAAA,eAAwBA,EAAAA,EAAAA,OAAeC,QAAS,kBAjE5E,0CAiEkFoC,IAA9F,gDAEF,gBAAKtC,UAAWC,EAAAA,EAAAA,GAAhB,iCACA,iBAAKD,UAAWC,EAAAA,EAAAA,OAAhB,mFAA6C,SAAC,KAAD,CAAMD,UAAWC,EAAAA,EAAAA,KAAasC,GAAG,eAAjC,oHAA7C,WC3EN,K,mBCDA,KAAgB,UAAY,wBAAwB,KAAO,mBAAmB,MAAQ,oBAAoB,MAAQ,oBAAoB,OAAS,qBAAqB,OAAS,qBAAqB,eAAiB,6BAA6B,GAAK,iBAAiB,OAAS,qBAAqB,KAAO","sources":["webpack://frontend/./src/components/Input/Input.module.scss?f352","components/Input/index.ts","components/Input/Input.tsx","pages/Auth/Login/Login.tsx","pages/Auth/Login/index.ts","webpack://frontend/./src/pages/Auth/Auth.module.scss?1648"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Input_container__5Fi8L\",\"label\":\"Input_label__usdRL\",\"label_small\":\"Input_label_small__yU2si\",\"field\":\"Input_field__ov2Ns\",\"field_small\":\"Input_field_small__rSggH\"};","import Input from \"./Input\";\n\nexport default Input;","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./Input.module.scss\";\n\ninterface props {\n  value: string,\n  onChange: (value: string) => void,\n  label: string,\n  type: string,\n  name: string\n}\n\nconst Input = ({ value, onChange, label, type, name }: props) => {\n  const [inputIsActive, setInputIsActive] = useState(false);\n  const input = useRef<any>(null);\n\n  useEffect(() => {\n    if(input && inputIsActive) {\n      input.current?.focus();\n      input.current.hasAttribute('readonly') && input.current.removeAttribute('readonly');\n    }\n  }, [inputIsActive]);\n\n  function unFocus(): void {\n    if (!value) {\n      setInputIsActive(false);\n    }\n  }\n\n  useEffect(() => {\n    input.current.removeAttribute('readonly')\n  }, []);\n\n  return (\n    <div className={styles.container} onClick={() => setInputIsActive(true)}>\n      <div className={!!value ? styles.label_small : styles.label}>{label}</div>\n      <input\n        className={!!value ? styles.field_small : styles.field}\n        type={type}\n        value={value}\n        name={name}\n        onChange={(e) => onChange(e.target.value)}\n        ref={input}\n        readOnly\n        autoComplete=\"off\"\n        onBlur={() => unFocus()}\n      />\n    </div>\n  );\n}\n\nexport default Input;\n","import axios from \"axios\"\nimport { useEffect, useMemo, useState } from \"react\"\nimport {Link, useSearchParams} from \"react-router-dom\"\nimport { authReducer } from \"context/auth/reducer\"\nimport Input from \"components/Input\"\nimport {login} from \"api/user\";\nimport {useAppDispatch} from \"hooks/redux\";\nimport styles from \"../Auth.module.scss\";\n\nconst Login = () => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [searchParams] = useSearchParams();\n  const { setAuthUser } = authReducer.actions;\n  const dispatch = useAppDispatch();\n\n  const submitButtonIsDisable = useMemo(() => {\n    return !(email && password);\n  }, [email, password])\n\n  async function submit() {\n    if (submitButtonIsDisable) {\n      return;\n    }\n\n    const res = await login(email, password);\n    const data = res.data;\n\n    if (!data.message) {\n      dispatch(setAuthUser(data));\n      localStorage.setItem(\"user\", JSON.stringify(data));\n    } else {\n\n    }\n  }\n\n  useEffect(() => {\n    const uid = searchParams.get('uid'),\n          token = searchParams.get('token')\n\n    if(uid && token) {\n      verify(uid, token)\n    }\n    document.title = \"Войти • Instagram\"\n  }, []);\n\n  async function verify(uid: string, token: string) {\n    const res = await axios.post(`http://127.0.0.1:8000/user/verification/${uid}/${token}`)\n    \n    if(res.data.success) {\n\n    } else {\n\n    }\n  }\n\n  return (\n    <div>\n      <div className={styles.title}>Вход</div>\n      <div className={styles.login}>\n        <Input\n          value={email}\n          onChange={setEmail}\n          label=\"Адрес электронной почты\"\n          type=\"email\"\n          name=\"email\"\n        />\n        <Input\n          value={password}\n          onChange={setPassword}\n          label=\"Пароль\"\n          type=\"password\"\n          name=\"password\"\n        />\n        <div className={submitButtonIsDisable ? styles.button_disable : styles.button} onClick={() => submit()}>Войти</div>\n      </div>\n      <div className={styles.or}>Или</div>\n      <div className={styles.footer}>Нет аккаунта? <Link className={styles.link} to=\"/auth/signup\">Зарегестрируйтесь</Link>!</div>\n    </div>\n  );\n}\n\nexport default Login;\n","import Login from './Login'\n\nexport default Login","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Auth_container__ORcsl\",\"form\":\"Auth_form__ziq4J\",\"title\":\"Auth_title__wDiyr\",\"login\":\"Auth_login__txM8P\",\"signup\":\"Auth_signup__hpa6c\",\"button\":\"Auth_button__OWZOh\",\"button_disable\":\"Auth_button_disable__Fmpj-\",\"or\":\"Auth_or__ecrQl\",\"footer\":\"Auth_footer__PnlGF\",\"link\":\"Auth_link__AEqne\"};"],"names":["value","onChange","label","type","name","useState","inputIsActive","setInputIsActive","input","useRef","useEffect","current","focus","hasAttribute","removeAttribute","className","styles","onClick","e","target","ref","readOnly","autoComplete","onBlur","email","setEmail","password","setPassword","useSearchParams","searchParams","setAuthUser","authReducer","dispatch","useAppDispatch","submitButtonIsDisable","useMemo","login","res","data","message","localStorage","setItem","JSON","stringify","uid","token","axios","success","get","verify","document","title","Input","submit","to"],"sourceRoot":""}