"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[717],{8845:function(e,n,s){s.d(n,{Z:function(){return f}});var r=s(885),t=s(2791),a=s(5934),i=s(184),c=function(e){var n=e.className,s=e.size,r=e.color;return(0,i.jsx)("svg",{className:n,color:r,fill:r,role:"img",viewBox:"0 0 48 48",height:s,width:s,children:(0,i.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})},o="Like_container__44F36",u="Like_container_active__EqCDA",l="Like_like__drx1f",_="Like_heart_container__5Tg3u",d="Like_filled_heart__5TOj6",m="Like_heart__lxZBU",h="Like_value__HOGOg",f=function(e){var n=e.isActive,s=e.handler,f=e.heartSize,x=e.value,v=e.fontSize,w=(0,t.useState)("rgb(40, 40, 40)"),k=(0,r.Z)(w,2),j=k[0],p=k[1];return(0,t.useEffect)((function(){n&&p("rgb(237, 73, 86)")}),[n,j]),(0,i.jsx)(i.Fragment,{children:void 0!==n&&(0,i.jsxs)("div",{className:n?u:o,onMouseEnter:function(){return p("rgb(160, 160, 160)")},onMouseLeave:function(){return p("rgb(40, 40, 40)")},onClick:function(){return s()},children:[(0,i.jsx)("div",{className:l,style:{width:"".concat(f,"px"),height:"".concat(f,"px")},children:(0,i.jsx)("div",{className:_,children:n?(0,i.jsx)(c,{className:d,size:f,color:"rgb(237, 73, 86)"}):(0,i.jsx)(a.Z,{className:m,size:f,color:j})})}),(0,i.jsx)("div",{className:h,style:{fontSize:"".concat(v,"px")},children:x})]})})}},1717:function(e,n,s){s.r(n),s.d(n,{default:function(){return I}});var r=s(8845),t=s(5861),a=s(885),i=s(7757),c=s.n(i),o=s(2791),u=s(3436),l=s(8660),_=s(2293),d=s(6871),m=function(e){var n=(0,o.useState)(0),s=(0,a.Z)(n,2),r=s[0],i=s[1],m=(0,o.useState)(!0),h=(0,a.Z)(m,2),f=h[0],x=h[1],v=(0,o.useState)(!1),w=(0,a.Z)(v,2),k=w[0],j=w[1],p=(0,l.T)(),N=(0,l.C)((function(e){return e.authReducer.isAuth})),C=(0,d.s0)(),g=_.E.actions,b=g.addAnswers,A=g.showAnswers,Z=g.likeComment,z=function(){var n=(0,t.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N){n.next=3;break}return C("/auth/login"),n.abrupt("return");case 3:if(p(Z(e.id)),!e.isLiked){n.next=9;break}return n.next=7,(0,u.x4)(e.id);case 7:n.next=11;break;case 9:return n.next=11,Z(e.id);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),S=function(){var n=(0,t.Z)(c().mark((function n(){var s,t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.next=3,(0,u.$0)(e.id,r);case 3:s=n.sent,t=s.data,p(b({commentId:e.id,comments:t.comments})),t.hasNextPage?i((function(e){return e+1})):x(!1),j(!1);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=(0,t.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f&&S(),p(A(e.id));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{isFetching:k,like:z,showComments:L,hasNextPage:f,getAnswers:S}},h="Comment_container__aXVT+",f="Comment_header__PCH0v",x="Comment_info__Dddrk",v="Comment_avatar__tA0fT",w="Comment_username__8KOOp",k="Comment_like__8hbhw",j="Comment_text__upZZV",p="Comment_footer__nKZ4S",N="Comment_date__bkZuW",C="Comment_answer__wqb4e",g="Comment_show_answers__zTWjn",b="Comment_answers__N+o8n",A="Comment_more_answers__bsZ2o",Z=s(3504),z="Answer_container__4qoP2",S="Answer_header__2YUTX",L="Answer_info__Cs9nb",T="Answer_avatar__zj8Z8",y="Answer_username__5MEbP",E="Answer_like__cOKw4",O="Answer_text__5n+vS",P="Answer_footer__izjCi",U="Answer_date__SE8VH",F="Answer_answer__gaTkD",M=s(184),q=function(e){var n=e.answer,s=e.onAnswer,a=(0,l.C)((function(e){return e.authReducer.isAuth})),i=(0,l.T)(),o=_.E.actions.likeAnswer,m=(0,d.s0)(),h=function(){var e=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return m("/auth/navigate"),e.abrupt("return");case 3:if(i(o(n.id)),!n.isLiked){e.next=9;break}return e.next=7,(0,u.x4)(n.id);case 7:e.next=11;break;case 9:return e.next=11,(0,u.xG)(n.id);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,M.jsxs)("div",{className:z,children:[(0,M.jsx)(Z.rU,{className:T,style:{backgroundImage:"url(http://127.0.0.1:8000".concat(n.user.avatar,")")},to:"/profile/".concat(n.user.username)}),(0,M.jsxs)("div",{className:L,children:[(0,M.jsxs)("div",{className:S,children:[(0,M.jsx)(Z.rU,{className:y,to:"/profile/".concat(n.user.username),children:n.user.username}),(0,M.jsx)("div",{className:E,children:(0,M.jsx)(r.Z,{isActive:n.isLiked,handler:h,heartSize:12,fontSize:12,value:n.likes})})]}),(0,M.jsx)("div",{className:O,children:n.text}),(0,M.jsxs)("div",{className:P,children:[(0,M.jsx)("div",{className:U,children:n.published_at}),(0,M.jsx)("div",{className:F,onClick:function(){return s(n.answer_to,n.user.username)},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})]})]})]})},D=q,H=s(293),I=function(e){var n=e.comment,s=e.onAnswer,t=m(n),a=t.like,i=t.getAnswers,c=t.isFetching,o=t.hasNextPage,u=t.showComments;return(0,M.jsxs)("div",{className:h,children:[(0,M.jsx)(Z.rU,{className:v,style:{backgroundImage:"url(http://127.0.0.1:8000".concat(n.user.avatar,")")},to:"/profile/".concat(n.user.username)}),(0,M.jsxs)("div",{className:x,children:[(0,M.jsxs)("div",{className:f,children:[(0,M.jsx)(Z.rU,{className:w,to:"/profile/".concat(n.user.username),children:n.user.username}),(0,M.jsx)("div",{className:k,children:(0,M.jsx)(r.Z,{isActive:n.isLiked,handler:a,heartSize:12,fontSize:12,value:n.likes})})]}),(0,M.jsx)("div",{className:j,children:n.text}),(0,M.jsxs)("div",{className:p,children:[(0,M.jsx)("div",{className:N,children:n.published_at}),(0,M.jsx)("div",{className:C,onClick:function(){return s(n.id,n.user.username)},children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})]}),0!==n.comments_count&&n.comments_count&&(0,M.jsx)("div",{className:b,children:n.isShowedAnswers?(0,M.jsxs)(M.Fragment,{children:[n.answers.map((function(e,n){return(0,M.jsx)(D,{answer:e,onAnswer:s},n)})),o&&!c&&(0,M.jsxs)("div",{className:A,onClick:function(){return i()},children:[(0,M.jsx)(H.Z,{size:25,color:"rgb(40, 40, 40)"}),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451"]})]}):(0,M.jsxs)("div",{className:g,onClick:function(){return u()},children:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b (",n.comments_count,")"]})})]})]})}}}]);
//# sourceMappingURL=717.104858d0.chunk.js.map